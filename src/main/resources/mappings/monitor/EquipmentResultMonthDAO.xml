<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cpit.cpmt.biz.dao.monitor.EquipmentResultMonthDAO">

  <resultMap id="BaseResultMap"  type="com.cpit.cpmt.dto.monitor.EquipmentResultMonth">
	  <id column="id" jdbcType="VARCHAR" property="id"/>
      <result column="month_result" jdbcType="VARCHAR" property="monthResult" />
	  <result column="in_time" jdbcType="TIMESTAMP" property="inTime" />
	  <result column="remark" jdbcType="VARCHAR" property="remark" />
  </resultMap>

  
  <select id="getResultLast"  resultType="java.lang.String">
	  select month_result from mon_equiment_result_month
	  order by in_time desc limit 1;
  </select>

	<insert id="insertEquipmentResult" parameterType="com.cpit.cpmt.dto.monitor.EquipmentResultMonth">
		insert into mon_equiment_result_month
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="monthResult != null">
				month_result,
			</if>
			<if test="inTime != null">
				in_time,
			</if>
			<if test="remark != null">
				remark,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id},
			</if>
			<if test="monthResult != null">
				#{monthResult},
			</if>
			<if test="inTime != null">
				#{inTime},
			</if>
			<if test="remark != null">
				#{remark},
			</if>
		</trim>
	</insert>

</mapper>